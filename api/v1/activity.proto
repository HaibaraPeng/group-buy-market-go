syntax = "proto3";

package api.v1;

import "google/api/annotations.proto";

option go_package = "group-buy-market-go/api/v1;v1";

// GroupBuyService HTTP API
service ActivityHTTP {
  // MarketTrial handles market trial requests
  rpc MarketTrial(MarketTrialRequest) returns (MarketTrialReply){
    option (google.api.http) = {
      post: "/market/trial"
      body: "*"
    };
  };
}

message MarketTrialRequest {
  string user_id = 1;
  string goods_id = 2;
  string source = 3;
  string channel = 4;
}

message MarketTrialReply {
  TrialBalanceInfo trial_result = 1;
}

message TrialBalanceInfo {
  string goods_id = 1;
  string goods_name = 2;
  double original_price = 3;
  double deduction_price = 4;
  int32 target_count = 5;
  int64 start_time = 6;
  int64 end_time = 7;
  bool is_visible = 8;
  bool is_enable = 9;
}